<!DOCTYPE html>
<html lang="en">
<head>
  <title>Cricket Game Using Funcitons</title>
  <style>
    body{
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Bat Ball Stump Game</h1>
  <button onclick="let computerChoice = generateComputerChoice(); 
  let resultMsg = getResults('Bat',computerChoice); 
  showResult('Bat',computerChoice,resultMsg);"
  >Bat</button>
  <button onclick="computerChoice = generateComputerChoice(); 
  resultMsg = getResults('Ball',computerChoice); 
  showResult('Ball',computerChoice,resultMsg);"
  >Ball</button>
  <button onclick="computerChoice = generateComputerChoice();
   resultMsg = getResults('Stump',computerChoice); 
   showResult('Stump',computerChoice,resultMsg);"
   >Stump</button>
   <button onclick="localStorage.clear(); resetScore()">Reset</button>
   <h3 id="your-move"></h3>
   <h3 id="computer-move"></h3>
   <h3 id="result"></h3>
   <h3 id="match-score"></h3>
  <script>
   let scoreStr = localStorage.getItem('score');
    let score;
     resetScore(scoreStr);

    function resetScore(scoreStr){
    score = scoreStr ? JSON.parse(scoreStr) : {
      win:0,
      tie:0,
      loose:0,
    } 
    score.displayScore = function(){
      return `Score: Wins: ${this.win} | Looses: ${this.loose} | Ties: ${this.tie}`;
    }
    showResult();
    }
    
    function generateComputerChoice(){
      let randomNumber = Math.random() * 3;
      if(randomNumber>0 && randomNumber<=1){
        return 'Bat';
      }else if(randomNumber>1 && randomNumber<=2){
      return 'Ball';
      }else{
        return 'Stump';
      }
    }
    
  function getResults(userMove, computerMove){
  if(userMove === 'Bat'){
    if(computerMove === 'Ball'){
      score.win++;
      return 'You Win!';
      }else if(computerMove ==='Stump'){
        score.loose++
        return 'You Loose!';
      }else if(computerMove === 'Bat'){
        score.tie++;
        return 'Match Draw!';
      }
    }else if(userMove === 'Ball'){
    if(computerMove === 'Ball'){
      score.tie++;
      return 'Match Draw!';
      }else if(computerMove ==='Stump'){
        score.win++;
        return 'You Win!';
      }else if(computerMove === 'Bat'){
        score.loose++
        return 'You Loose!';
      }
    }else{
      if(computerMove === 'Ball'){
        score.loose++
        return 'You Loose!';
        }else if(computerMove === 'Stump'){
          score.tie++;
          return 'Match Draw!';
        }else if(computerMove === 'Bat'){
          score.win++
            return 'You Won!';
        }
    }
    }


    function showResult(userMove, computerMove,result){
      localStorage.setItem('score', JSON.stringify(score));
      console.log(score);
      document.querySelector('#your-move').innerText = userMove ?`You have chosen:${userMove}`:'';
      document.querySelector('#computer-move').innerText = computerMove  ?`Computer Choice Is:${computerMove}`:'';
      document.querySelector('#result').innerText = result  || '';
      document.querySelector('#match-score').innerText = score.displayScore();
    }

  //   function determineDriveStatus(){
  //     let age;
  //     if(age === undefined){
  //       return 'You are avatar'
  //     }
  //     if(age>=18){
  //       return 'You Can Drive';
  //   }
  // }
  // console.log(determineDriveStatus());

  // function sum (num1, num2){
  //   let sum = num1 + num2;
  //   return sum;
  // }
  // console.log(sum(5,5));
  //  console.log(sum(25,45));
  //   console.log(sum(0,0));

  // function greetings(name){
  //   console.log(`Namaste ${name} Uncle`)
  // }
  // greetings('Titu');



  function checkOddEven(num){
    let rem = num % 2;
    if(rem === 0){
      return 'The given number is Even';
    }else{
      return 'The given number is Odd';
    }
  }
// console.log(checkOddEven(10));
// console.log(checkOddEven(13));
// console.log(checkOddEven(2));
// console.log(checkOddEven(21));

function bigger(num1, num2){
  if(num1>num2){
    return num1
  }else{
    return num2
  }
}
// console.log(bigger(10,5));
// console.log(bigger(5,5));
// console.log(bigger(-100,1));

function toFehrenheit(celsius){
  return 9/5 * celsius + 32;
}
// console.log(toFehrenheit(38));
  </script>
</body>
</html>